notes: |
  ## PURPOSE
  Test the only scenario where cenc values should be updated back in time: When a period change is removed back in time.

  ## DESIGN CONSIDERATIONS

  CASE 1: Period change removed back in time
            |2024                   |smrd                   |2025          |today
                           .._______|______________________________________
  Measurement data:              ++   ++                           ++

  Period 1 (cnc)               |----|
  Old period 2 (cnc)                |----------------------------|
  Old period 3 (cenc)                                            |--------
  Existing D15 values (cnc)    xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  Existing D15 values (cenc)                                     +++++++++

  New period 2 (cenc)               |--------------------------------------_
  New D15 (cenc) values             ++++++++++++++++++++++++++++++++++++++++


  CASE 2: Period change removed back in time (move in, no electrical heating)
  Same periods as CASE 1.

  CASE 3: Period change removed back in time (move in, electrical heating)
  Same periods as CASE 1.

  CASE 4: Recalculate cenc back in time when move-in is added (move in, no electrical heating)

            |2024                   |smrd                   |2025          |today
                           .._______|______________________________________
  Measurement data:              ++   ++                           ++

  Old parent period:           |-------------------------------------------_
  Existing D15 values (cnc)    xxxxx
  Existing D15 values (cenc)        +++++++++++++++++++++++++++++++++++++++

  Parent period 1:             |----|
  (New) parent period 2:            |------------------------|
  (New) parent period 3:                                     |-------------_
  New D15 (cnc) values:             xxxxxxxxxxxxxxxxxxxxxxxxx (not generated by cenc calculation)
  New D15 (cenc move-in default) values:                     +++++++++++++++

  CASE 5: Recalculate cenc back in time when move-in is added (move in, electrical heating)
  Same periods as CASE 4.


cases_tested:
  "Smrd is not 1"

  "cenc calculation":
    "GIVEN (consumption_from_grid (D07) > supply_to_grid (D06) THEN (net_consumption (D15) daily quantity is (sum(consumption_from_grid) - sum(supply_to_grid)) / days in settlement year"
    "When period goes from cnc to cenc, new results are always generated"
    "GIVEN latest parent period is open WHEN this period is marked as move_in = true AND has_electrical_heating = false THEN default quantity value of 1800 for the settlement period and a daily quantity is 1800 / days in settlement year"
    "GIVEN latest parent period is open WHEN this period is marked as move_in = true AND has_electrical_heating = true THEN default quantity value of 5600 for the settlement period and a daily quantity is 5600 / days in settlement year"
